<%
// load header options and contacts from content
const header = _.cms('header') || {}
const contacts = _.cms('contacts') || {}
// social networks handled by contacts
const networks = [
  'facebook',
  'youtube',
  'instagram',
  'blog'
]
// store logo object
const logo = _.settings.logo
  ? { url: _.settings.logo, alt: _.settings.name }
  : _.store.logo
%>

<header class="header" id="header" data-slideout-fixed>
  <div class="header__container">
    <div class="container-fluid">
      <div class="row align-items-center">
        <div class="header__col col-auto">
          <button class="btn header__toggler" type="button" onclick="toggleSidenav()">
            <i class="header__toggler__icon fas fa-bars"></i>
            <span class="d-none d-lg-inline">
              Menu
            </span>
          </button>
        </div>

        <div class="header__col col col-lg-2">
          <a href="/">
            <% if (logo && logo.url) { %>
              <img id="logo" class="header__logo" src="<%= logo.url %>" alt="<%= logo.alt %>">
            <% } else { %>
              <%= _.settings.name || _.store.name %>
            <% } %>
          </a>
        </div>
        <% if (header.contacts_stripe.socials) { %>
          <div class="col-auto">
            <% networks.forEach(network => { %>
              <% if (contacts[network]) { %>
                <a href="<%= contacts[network] %>" target="_blank" rel="noopener">
                  <i class="fab fa-<%= network %>"></i>
                </a>
              <% } %>
            <% }) %>
          </div>
        <% } %>

        <div class="header__col order-lg-last col-auto">
          <div
            class="header__buttons"
            role="group"
            aria-label="<%= _.dictionary().my_account %>"
          >
            <a
              id="user-button"
              class="btn btn-lg btn-light"
              role="button"
              href="/app/#/account/"
              data-toggle="tooltip"
              data-placement="bottom"
              title="<%= _.dictionary().my_account %>"
            >
              <i class="fas fa-user"></i>
            </a>
            <a
              id="cart-button"
              class="btn btn-lg btn-light"
              role="button"
              href="/app/#/cart"
              data-toggle="tooltip"
              data-placement="bottom"
              title="<%= _.dictionary().open_cart %>"
            >
              <i class="fas fa-shopping-bag"></i>
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>
</header>
